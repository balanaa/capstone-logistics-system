/* TableList Component Styles (updated) */

/* Search wrapper styles - matching UserManagement design */
.search-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.search-icon {
  position: absolute;
  left: 0.75rem;
  color: #888;
  pointer-events: none;
  font-size: 0.9rem;
}

.search-input {
  padding: 0.45rem 0.8rem 0.45rem 2.25rem;
  border: 1px solid #cbd5e1;
  border-radius: 0.5rem;
  font-size: 0.9rem;
  width: 16.25rem;
  background: #e3f2fd;
}

.search-input:focus {
  outline: none;
  border-color: #1976d2;
  background: white;
}

/* Root wrapper */
.table-list-root {
  width: 100%;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  container-type: inline-size;
  container-name: table-container;
}

/* ---- Top control bar (single line) ---- */
.table-control-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.6rem 1rem;
  margin-bottom: 0.6rem;
  /* keep transparent background so the panel is only around the table */
}

/* Hide mobile controls by default */
.mobile-controls {
  display: none !important;
}

/* Show desktop controls by default */
.control-left {
  display: flex !important;
  align-items: center;
  gap: 0.6rem;
}

.control-center {
  display: flex !important;
  align-items: center;
  gap: 0.6rem;
}

.control-right {
  display: flex !important;
  align-items: center;
  gap: 0.6rem;
}

/* Left group (title, add, clear) */
.table-list-title-inline {
  font-size: 1.5rem;
  font-weight: 700;
  margin: 0;
  color: #0b4a4a;
}

.table-list-add-btn-inline {
  padding: 0.45rem 0.8rem;
  margin-left: 0.6rem;
  background: var(--accent-color, #1AAFB5);
  color: white;
  border: none;
  border-radius: 6px;
  font-weight: 700;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.4rem;
}
.table-list-add-btn-inline:hover { opacity: .95; }

/* Button text visibility - show all on desktop */
.btn-text-create,
.btn-text-new,
.btn-text-shipment {
  display: inline;
}

.table-filter-btn-clear {
  padding: 0.5rem 1rem;
  border: 1px solid #dc3545;
  background: white;
  border-radius: 0.25rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: #dc3545;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 0.375rem;
}
.table-filter-btn-clear:hover { 
  background: #dc3545; 
  color: white; 
  border-color: #dc3545; 
}

/* Center group (dates + search) */
.control-center .control-date {
  display:flex;
  align-items:center;
  gap:0.4rem;
  font-weight:600;
  color:#083237;
  margin-right: 0.4rem;
}
.table-filter-date-inline {
  padding: 0.45rem 0.8rem;
  border: 1px solid #cbd5e1;
  border-radius: 0.375rem;
}

/* Right group (page indicator + arrows) */
.control-right { gap: 0.6rem; }

.pagination-controls-wrapper {
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

.page-indicator {
  font-weight: 700;
  color: #0b4a4a;
  min-width: 3.75rem;
  text-align: center;
}

.page-arrows { display:flex; gap:0.4rem; align-items:center; }
.arrow-btn {
  padding: 0.35rem 0.6rem;
  border-radius: 0.375rem;
  border: 1px solid #d1d5db;
  background: white;
  cursor: pointer;
  font-weight: 700;
}
.arrow-btn:disabled { opacity: 0.45; cursor: not-allowed; }

/* ---- Table panel (panel around the table only) ---- */
.table-panel {
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 1px 0 rgba(0,0,0,0.04);
  overflow: hidden;
  border: 1px solid #e6eef0;
}

/* Table wrapper - responsive approach */
.table-list-wrapper { 
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
  border: 1px solid #e6eef0;
  overflow: hidden;
}

.table-list { 
  width: 100%; 
  border-collapse: separate;
  border-spacing: 0;
  overflow: hidden;
  display: table;
}

/* Container-based responsive table behavior */
/* Wide container: Show all columns in table format */
@container table-container (min-width: 1200px) {
  .table-list-wrapper {
    overflow-x: visible;
  }
  
  .table-list {
    min-width: auto;
    display: table;
  }
  
  .table-list th,
  .table-list td {
    padding: 0.6rem 0.9rem;
    white-space: nowrap;
  }
}

/* Medium container: Allow horizontal scroll, compact cells */
@container table-container (min-width: 800px) and (max-width: 1199px) {
  .table-list-wrapper {
    overflow-x: auto;
  }
  
  .table-list {
    min-width: 800px;
    display: table;
  }
  
  .table-list th,
  .table-list td {
    padding: 0.5rem 0.7rem;
    font-size: 0.9rem;
  }
}

/* Narrow container: Card layout for better readability */
@container table-container (max-width: 799px) {
  .table-list-wrapper {
    overflow-x: visible;
  }
  
  .table-list {
    display: block;
    min-width: auto;
  }
  
  .table-list thead {
    display: none;
  }
  
  .table-list tbody {
    display: block;
  }
  
  .table-list tbody tr {
    display: block;
    margin-bottom: 1rem;
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border: 1px solid #e6eef0;
    padding: 1rem;
  }
  
  /* Alternating colors for card layout */
  .table-list tbody tr:nth-child(odd) {
    background: var(--lighter-color);
  }
  
  .table-list tbody tr:nth-child(even) {
    background: var(--background-color);
  }
  
  .table-list tbody tr:hover {
    background: #f0f8ff !important;
  }
  
  .table-list tbody td {
    display: block;
    padding: 0.5rem 0;
    border: none;
    background: transparent;
    position: relative;
    padding-left: 40%;
  }
  
  /* Match td background to tr background */
  .table-list tbody tr:nth-child(odd) td {
    background: var(--lighter-color);
  }
  
  .table-list tbody tr:nth-child(even) td {
    background: var(--background-color);
  }
  
  .table-list tbody tr:hover td {
    background: #f0f8ff !important;
  }
  
  .table-list tbody td:before {
    content: attr(data-label);
    position: absolute;
    left: 0;
    width: 35%;
    padding-right: 1rem;
    font-weight: 600;
    color: #0b4a4a;
    font-size: 0.85rem;
  }
  
  .table-list tbody td:first-child {
    padding-left: 0;
    font-weight: 700;
    font-size: 1rem;
    color: #0b4a4a;
    border-bottom: 1px solid #e6eef0;
    margin-bottom: 0.5rem;
    padding-bottom: 0.5rem;
  }
  
  .table-list tbody td:first-child:before {
    display: none;
  }
}

.table-list thead { 
  background-color: var(--secondary-color, #E5F3F4); 
  font-weight: 700; 
}

.table-list th, 
.table-list td { 
  padding: 0.6rem 0.9rem; 
  text-align: left; 
  border: 1px solid #D1D5DB; /* Gray thin borders for each cell */
}

.table-list th { 
  font-size: 0.95rem; 
  color: #0b4a4a; 
}

.table-list td { 
  font-size: 0.95rem; 
  color: #1f2937; 
}

/* Column shrink/expand behavior */
.column-shrunk {
  max-width: 8rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.column-expanded {
  max-width: none;
  white-space: normal;
}

/* Shrunk cells show ellipsis */
.column-shrunk .cell-content-wrapper,
.column-shrunk .container-cell {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Expanded cells show full content */
.column-expanded .cell-content-wrapper,
.column-expanded .container-cell {
  white-space: normal;
  overflow: visible;
}

/* Visual indicator for expandable columns */
.column-shrunk {
  cursor: zoom-in;
}

.column-expanded {
  cursor: zoom-out;
}

/* Desktop: Consistent blue background for all rows */
.table-list tbody tr td {
  background-color: var(--lighter-color); /* Light blue for all desktop rows */
}

.table-list tbody tr:hover td { 
  background-color: #f0f8ff !important; /* Light hover color */
}

/* Completed row styling */
.row-complete {
  background-color: #f0fdf4; /* Light green tint */
  border-left: 4px solid #22c55e; /* Green accent border */
}

.row-complete td {
  background-color: #f0fdf4 !important; /* Light green background for all cells */
}

.row-complete:hover td {
  background-color: #dcfce7 !important; /* Slightly darker green on hover */
}

/* Row arrow */
.table-row-arrow {
  background:none; border:none; color: var(--accent-color,#1AAFB5);
  font-size: 1.05rem; cursor:pointer; padding:0; transition: transform .15s;
}
.table-row-arrow:hover { transform: translateX(3px); }

/* Container cell styling for multi-line display */
.container-cell {
  vertical-align: top;
  white-space: pre-line;
  line-height: 1.4;
}

.container-line {
  margin-bottom: 0.2rem;
  font-size: 0.9rem;
}

.container-line:last-child {
  margin-bottom: 0;
}

/* Cell copy holding state */
.cell-copy-holding {
  position: relative;
  overflow: hidden;
  background-color: #dbeafe !important;
  transition: background-color 0.15s ease;
}

/* Progress bar that fills from left to right */
.copy-progress-bar {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  background: linear-gradient(90deg, #1AAFB5 0%, #0b4a4a 100%);
  animation: fillProgress 500ms linear forwards;
  z-index: 0;
  opacity: 0.4;
}

@keyframes fillProgress {
  from {
    width: 0%;
  }
  to {
    width: 100%;
  }
}

/* Ensure cell content stays above progress bar */
.cell-content-wrapper {
  position: relative;
  z-index: 1;
}

/* Status chips */
.status-chip {
  display:inline-block; padding: .25rem .6rem; border-radius: 999px; font-weight:700; font-size:.9rem;
  color: #fff; min-width: 72px; text-align:center;
}
.status-ongoing { background: #f59e0b; }  /* amber */
.status-filed-boc { background: #3b82f6; } /* blue */
.status-complete { background: #10b981; } /* green */

/* Trucking status chips */
.status-booking { background: #8b5cf6; } /* purple */
.status-delivering { background: #f59e0b; } /* amber */
.status-returned { background: #10b981; } /* green */

/* Finance status chips */
.status-unpaid { background: #dc2626; color: white; } /* red */
.status-paid { background: #16a34a; color: white; } /* green */

/* Document chips */
.document-chips-container {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
  align-items: center;
}

.document-chip {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-weight: 600;
  font-size: 0.75rem;
  color: #1f2937;
  border: 1px solid rgba(0, 0, 0, 0.1);
  white-space: nowrap;
  cursor: help;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.document-chip:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

/* Bottom pagination (secondary) - moved outside table wrapper */
.table-list-pagination {
  display:flex; align-items:center; justify-content:center; gap: .5rem;
  padding: .9rem 1rem; background: #f8fbfb;
  border-radius: 0.5rem;
  margin-top: 0.6rem;
  flex-wrap:wrap;
}
.pagination-btn {
  padding: 0.45rem .8rem; border-radius: 0.375rem; border: 1px solid #d1d5db; background:white; cursor:pointer; font-weight:600;
}
.pagination-btn:hover:not(:disabled){ background:var(--accent-color,#1AAFB5); color:white; border-color:var(--accent-color,#1AAFB5); }
.pagination-btn:disabled{ opacity:.45; cursor:not-allowed; }
.pagination-btn.active{ background:var(--accent-color,#1AAFB5); color:white; border-color:var(--accent-color,#1AAFB5); }
.pagination-info{ font-weight:600; margin-left: 1rem; }

/* dots */
.dots { padding: 0 .35rem; color: #666; }

/* Toast notification */
.toast {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  background-color: #1f2937;
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 0.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  font-weight: 600;
  font-size: 0.95rem;
  z-index: 9999;
  cursor: pointer;
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateY(100px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.toast:hover {
  background-color: #374151;
}

/* Mobile Layout - 8 Row Structure */
@container table-container (max-width: 768px) {
  .table-control-bar {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1rem;
    background: #f8fbfb;
    border-radius: 0.5rem;
    margin-bottom: 1rem;
  }
  
  /* Hide desktop controls on mobile */
  .control-left,
  .control-center,
  .control-right {
    display: none !important;
  }
  
  /* Show mobile controls */
  .mobile-controls {
    display: flex !important;
    flex-direction: column;
    gap: 0.5rem;
    width: 100%;
  }
  
  /* Each control row takes full width */
  .control-row {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
  
  /* Row 1: Department List */
  .control-row-title {
    align-items: flex-start;
    flex-direction: row;
    justify-content: space-between;
    gap: 1rem;
  }
  
  .table-list-title-inline {
    font-size: 1.5rem;
    margin: 0;
    text-align: left;
  }
  
  /* Row 2 & 4: Labels stick to left */
  .control-row-label {
    align-items: flex-start;
  }
  
  .control-label {
    font-size: 1rem;
    font-weight: 600;
    color: #083237;
    text-align: left;
    margin: 0;
    padding: 0;
  }
  
  /* Row 3, 5, 6, 7: Inputs full width */
  .control-row-input {
    align-items: stretch;
  }
  
  .table-filter-date-inline {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #e2e8f0;
    background: white;
  }
  
  .table-filter-date-inline:focus {
    border-color: var(--accent-color, #1AAFB5);
    outline: none;
  }
  
  /* Type dropdown full width */
  .type-dropdown {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #e2e8f0;
    background: white;
  }
  
  .type-dropdown:focus {
    border-color: var(--accent-color, #1AAFB5);
    outline: none;
  }
  
  /* Search input full width */
  .search-wrapper {
    width: 100%;
    position: relative;
  }
  
  .search-input {
    width: 100%;
    padding: 0.75rem 0.8rem 0.75rem 2.5rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #e2e8f0;
    background: white;
  }
  
  .search-input:focus {
    border-color: var(--accent-color, #1AAFB5);
    outline: none;
  }
  
  /* Row 8: Clear Filters, Page indicator, and navigation */
  .control-row-actions {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.75rem;
  }
  
  .table-filter-btn-clear {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    border-radius: 0.25rem;
    border: 1px solid #dc3545;
    background: white;
    color: #dc3545;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }
  
  .table-filter-btn-clear:hover {
    background: #dc3545;
    color: white;
    border-color: #dc3545;
  }
  
  .page-indicator {
    font-size: 1rem;
    min-width: auto;
    font-weight: 700;
    color: #0b4a4a;
  }
  
  .page-arrows {
    display: flex;
    gap: 0.5rem;
  }
  
  .arrow-btn {
    padding: 0.6rem 0.9rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #d1d5db;
    background: white;
    cursor: pointer;
    font-weight: 600;
  }
  
  .arrow-btn:disabled {
    opacity: 0.45;
    cursor: not-allowed;
  }
  
  /* Mobile create button styling */
  .mobile-controls .table-list-add-btn-inline {
    padding: 0.5rem 0.8rem;
    font-size: 0.9rem;
    white-space: nowrap;
  }
  
  /* Hide some button text on very small screens */
  @media (max-width: 480px) {
    .mobile-controls .btn-text-new,
    .mobile-controls .btn-text-shipment {
      display: none;
    }
    
    .mobile-controls .table-list-add-btn-inline {
      padding: 0.4rem 0.6rem;
      font-size: 0.8rem;
    }
  }
}

/* Fallback media queries for browsers that don't support container queries */
@media (max-width: 768px) {
  .table-control-bar {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 1rem;
    background: #f8fbfb;
    border-radius: 0.5rem;
    margin-bottom: 1rem;
  }
  
  /* Hide desktop controls on mobile */
  .control-left,
  .control-center,
  .control-right {
    display: none !important;
  }
  
  /* Show mobile controls */
  .mobile-controls {
    display: flex !important;
    flex-direction: column;
    gap: 0.5rem;
    width: 100%;
  }
  
  /* Each control row takes full width */
  .control-row {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
  
  /* Row 1: Department List */
  .control-row-title {
    align-items: flex-start;
    flex-direction: row;
    justify-content: space-between;
    gap: 1rem;
  }
  
  .table-list-title-inline {
    font-size: 1.25rem;
    margin: 0;
    text-align: left;
  }
  
  /* Row 2 & 4: Labels stick to left */
  .control-row-label {
    align-items: flex-start;
  }
  
  .control-label {
    font-size: 1rem;
    font-weight: 600;
    color: #083237;
    text-align: left;
    margin: 0;
    padding: 0;
  }
  
  /* Row 3, 5, 6, 7: Inputs full width */
  .control-row-input {
    align-items: stretch;
  }
  
  .table-filter-date-inline {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #e2e8f0;
    background: white;
  }
  
  .table-filter-date-inline:focus {
    border-color: var(--accent-color, #1AAFB5);
    outline: none;
  }
  
  /* Type dropdown full width */
  .type-dropdown {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #e2e8f0;
    background: white;
  }
  
  .type-dropdown:focus {
    border-color: var(--accent-color, #1AAFB5);
    outline: none;
  }
  
  /* Search input full width */
  .search-wrapper {
    width: 100%;
    position: relative;
  }
  
  .search-input {
    width: 100%;
    padding: 0.75rem 0.8rem 0.75rem 2.5rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #e2e8f0;
    background: white;
  }
  
  .search-input:focus {
    border-color: var(--accent-color, #1AAFB5);
    outline: none;
  }
  
  /* Row 8: Clear Filters, Page indicator, and navigation */
  .control-row-actions {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.75rem;
  }
  
  .table-filter-btn-clear {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    border-radius: 0.25rem;
    border: 1px solid #dc3545;
    background: white;
    color: #dc3545;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 0.375rem;
  }
  
  .table-filter-btn-clear:hover {
    background: #dc3545;
    color: white;
    border-color: #dc3545;
  }
  
  .page-indicator {
    font-size: 1rem;
    min-width: auto;
    font-weight: 700;
    color: #0b4a4a;
  }
  
  .page-arrows {
    display: flex;
    gap: 0.5rem;
  }
  
  .arrow-btn {
    padding: 0.6rem 0.9rem;
    font-size: 1rem;
    border-radius: 0.5rem;
    border: 2px solid #d1d5db;
    background: white;
    cursor: pointer;
    font-weight: 600;
  }
  
  .arrow-btn:disabled {
    opacity: 0.45;
    cursor: not-allowed;
  }
  
  /* Mobile create button styling */
  .mobile-controls .table-list-add-btn-inline {
    padding: 0.5rem 0.8rem;
    font-size: 0.9rem;
    white-space: nowrap;
  }
  
  /* Hide some button text on very small screens */
  @media (max-width: 480px) {
    .mobile-controls .btn-text-new,
    .mobile-controls .btn-text-shipment {
      display: none;
    }
    
    .mobile-controls .table-list-add-btn-inline {
      padding: 0.4rem 0.6rem;
      font-size: 0.8rem;
    }
  }
}

/* Medium screens - keep some horizontal layout */
@container table-container (min-width: 769px) and (max-width: 1000px) {
  .table-control-bar {
    flex-wrap: wrap;
    gap: 0.8rem;
  }
  
  /* Ensure mobile controls are hidden on medium screens */
  .mobile-controls {
    display: none !important;
  }
  
  /* Ensure desktop controls are visible */
  .control-left,
  .control-center,
  .control-right {
    display: flex !important;
  }
  
  .control-center {
    flex-wrap: wrap;
    gap: 0.8rem;
  }
  
  .search-input {
    width: 250px;
  }
}
